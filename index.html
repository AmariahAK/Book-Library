<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Library</title>
    
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="style.css">

    <!-- Include Axios for HTTP requests -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <!-- External JavaScript file -->
    <script src="main.js" defer></script>

    <style>
        /* CSS for button spacing and dropdowns */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: #483d8b;
            color: #fff;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #6a5acd;
            padding: 10px;
        }

        nav button {
            margin-right: 10px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }

        #searchInput {
            display: none;
            width: 200px;
            padding: 8px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <h1>Book Library</h1>
        <button onclick="toggleSearchBar()">Search</button>
    </header>

    <!-- Navigation menu -->
    <nav>
        <!-- Genres dropdown -->
        <div>
            <button onclick="toggleDropdown('genreDropdown')">Genres</button>
            <div id="genreDropdown" class="dropdown-content">
                <a href="#" onclick="displayCategory('kids-books')">Kids Books</a>
                <a href="#" onclick="displayCategory('musicals')">Musicals</a>
                <a href="#" onclick="displayCategory('action')">Action</a>
                <a href="#" onclick="displayCategory('fantasy')">Fantasy</a>
                <a href="#" onclick="displayCategory('horror')">Horror</a>
                <a href="#" onclick="displayCategory('psychological')">Psychological</a>
                <a href="#" onclick="displayCategory('thriller')">Thriller</a>
                <a href="#" onclick="displayCategory('romance')">Romance</a>
                <a href="#" onclick="displayCategory('self-help')">Self Help</a>
                <a href="#" onclick="displayCategory('science-fiction')">Science Fiction</a>
                <a href="#" onclick="displayCategory('mystery')">Mystery</a>
                <a href="#" onclick="displayCategory('historical-fiction')">Historical Fiction</a>
                <a href="#" onclick="displayCategory('biography')">Biography</a>
                <a href="#" onclick="displayCategory('comics')">Comics</a>
            </div>
        </div>

        <!-- Add Book dropdown -->
        <div>
            <button onclick="toggleDropdown('addBookDropdown')">Add Book</button>
            <div id="addBookDropdown" class="dropdown-content">
                <form id="addBookForm">
                    <label for="titleInput">Title:</label>
                    <input type="text" id="titleInput"><br>
                    <label for="descriptionInput">Description:</label>
                    <textarea id="descriptionInput"></textarea><br>
                    <label for="categorySelect">Category:</label>
                    <select id="categorySelect">
                        <option value="kids-books">Kids Books</option>
                        <option value="musicals">Musicals</option>
                        <option value="action">Action</option>
                        <option value="fantasy">Fantasy</option>
                        <option value="horror">Horror</option>
                        <option value="psychological">Psychological</option>
                        <option value="thriller">Thriller</option>
                        <option value="romance">Romance</option>
                        <option value="self-help">Self Help</option>
                        <option value="science-fiction">Science Fiction</option>
                        <option value="mystery">Mystery</option>
                        <option value="historical-fiction">Historical Fiction</option>
                        <option value="biography">Biography</option>
                        <option value="comics">Comics</option>
                    </select><br>
                    <label for="imageInput">Image URL:</label>
                    <input type="text" id="imageInput"><br>
                    <button type="button" onclick="addNewBook()">Add Book</button>
                </form>
            </div>
        </div>

        <!-- Search input (initially hidden) -->
        <input type="text" id="searchInput" placeholder="Search..." oninput="handleSearch()">
    </nav>

    <!-- Main content area -->
    <div class="container">
        <!-- Book container -->
        <div id="book-container"></div>
    </div>

    <script>
        // Function to toggle dropdown visibility
        function toggleDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            if (dropdown.style.display === 'block') {
                dropdown.style.display = 'none';
            } else {
                dropdown.style.display = 'block';
            }
        }

        // Function to toggle search bar visibility
        function toggleSearchBar() {
            const searchBar = document.getElementById('searchInput');
            if (searchBar.style.display === 'none' || searchBar.style.display === '') {
                searchBar.style.display = 'block';
            } else {
                searchBar.style.display = 'none';
            }
        }
        
        // Function to handle search input
        function handleSearch() {
            const searchTerm = document.getElementById('searchInput').value;
            // Implement search functionality here (e.g., call API to search books)
            console.log('Searching for:', searchTerm);
        }

        // Function to display books based on category
        function displayCategory(category) {
            // Implement display books by category (e.g., call API with category parameter)
            console.log('Displaying books for category:', category);
        }

        // Function to add a new book
        function addNewBook() {
            // Implement adding a new book (e.g., collect form data and make API call)
            console.log('Adding a new book...');
            const title = document.getElementById('titleInput').value;
            const description = document.getElementById('descriptionInput').value;
            const category = document.getElementById('categorySelect').value;
            const imageUrl = document.getElementById('imageInput').value;

            // Example: Use Axios to post data to server or perform other actions
            // axios.post('/books', { title, description, category, imageUrl })
            //     .then(response => {
            //         console.log('New book added:', response.data);
            //         // Optionally, refresh book display or show success message
            //     })
            //     .catch(error => {
            //         console.error('Error adding new book:', error);
            //         // Handle error display or logging
            //     });
        }
    </script>

</body>
</html>
